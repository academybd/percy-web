{{head-layout}}
{{title "Percy | Continuous visual reviews for web apps"}}
{{outlet}}

{{#if flashMessages.queue}}
  <div class="flash-message-container z-top">
    {{#each flashMessages.queue as |flash|}}
      {{#flash-message flash=flash classNames=(concat "flash-message-" flash.type (if flash.sticky ' flash-message-sticky')) as |component flash|}}
        <div class="flash-message-detail flash-message-detail-{{flash.type}} flex justify-center items-center">
          <figure class="svg-container">
            {{inline-svg (concat "flash-" flash.type "-icon")}}
          </figure>
        </div>
        <div class="px-2 py-1">
          <div class="text-base font-semibold">{{flash.title}}</div>
          <p class="text-base text-gray-400 mb-0">{{flash.message}}</p>
        </div>
        <div class="flash-message-close flex justify-center items-center cursor-pointer">
          <figure class="svg-container">
            {{inline-svg "close-icon"}}
          </figure>
        </div>
      {{/flash-message}}
    {{/each}}
  </div>
{{/if}}

{{#ember-dialogs as |params|}}
  <div class="bg-white rounded shadow-dark-lg p-4 container-md">
    {{#if params.message}}
      <div>{{{params.message}}}</div>
    {{/if}}

    {{#if (eq params.type 'prompt')}}
      {{input
        class       = 'input'
        value       = params.userInput
        placeholder = params.placeholder
        enter       = (action params.actionOk params.userInput)
      }}
    {{/if}}

    <div class="flex justify-end">
      {{#if params.shouldDisplayCancel}}
        <button class="btn" {{action params.actionCancel}}>
          {{params.labelCancel}}
        </button>
      {{/if}}

      <button class="btn btn-primary shadow-purple-lg ml-1" {{action params.actionOk params.userInput}}>
        {{params.labelOk}}
      </button>
    </div>
  </div>
{{/ember-dialogs}}
