{{#if inViewport}}
  {{snapshot-viewer-header
    fullscreen=false
    snapshot=snapshot
    snapshotSelectedWidth=snapshotSelectedWidth
    selectedComparison=selectedComparison
    toggleViewMode=(action showSnapshotFullModalTriggered snapshot.id snapshotSelectedWidth activeBrowser)
    updateSelectedWidth=(action "updateSelectedWidth")
    createReview=createReview
    expandSnapshot=(action "expandSnapshot")
    activeBrowser=activeBrowser
    updateActiveBrowser=updateActiveBrowser
  }}
  {{#if isExpanded}}
    {{#if selectedComparison}}
      {{comparison-viewer
        comparison=selectedComparison
        allDiffsShown=allDiffsShown
        snapshotSelectedWidth=snapshotSelectedWidth
        shouldDeferImageLoading=shouldDeferImageLoading
        isUnchangedSnapshotExpanded=isUnchangedSnapshotExpanded
        data-test-SnapshotViewer-comparison=true
        activeBrowser=activeBrowser
      }}
    {{else}}
      <div class="p-2 text-center bg-gray-000 border-bottom border-gray-100" data-test-SnapshotViewer-noComparison>
        No snapshot taken at {{snapshotSelectedWidth}}px.
      </div>
    {{/if}}
  {{/if}}
{{else}}
<header class="SnapshotViewer-header sticky grid gap-4 z-1 px-2 py-1 bg-gray-000 border-top border-bottom border-gray-100">
  <div class="flex align-center truncate">

    <figure class="svg-container mr-1" data-test-SnapshotViewer-comparisonIcon>
      {{inline-svg "comparison-icon"}}
    </figure>

    <div class="Viewer-header-title SnapshotViewer-title c-default truncate text-weight-bold" data-test-SnapshotViewer-title>{{snapshot.name}}</div>
  </div>
</header>
{{/if}}
